{
  "actions": [],
  "allow_rename": 0,
  "autoname": "prompt",
  "creation": "2024-01-01 00:00:00.000000",
  "default_view": "Form",
  "doctype": "DocType",
  "editable_grid": 0,
  "engine": "InnoDB",
  "field_order": [
    "section_ocr",
    "enable_tax_invoice_ocr",
    "ocr_provider",
    "google_vision_service_account_file",
    "google_vision_endpoint",
    "tesseract_cmd",
    "ocr_language",
    "ocr_max_pages",
    "ocr_min_confidence",
    "ocr_max_retry",
    "ocr_file_max_mb",
    "store_raw_ocr_json",
    "npwp_normalize",
    "section_verification",
    "require_verification_before_submit_pi",
    "require_verification_before_create_pi_from_expense_request",
    "tolerance_idr",
    "tolerance_percentage",
    "block_duplicate_fp_no",
    "section_accounts",
    "ppn_input_account",
    "ppn_output_account",
    "column_break_accounts",
    "dpp_variance_account",
    "ppn_variance_account",
    "section_templates",
    "default_ppn_type",
    "use_tax_rule_effective_date",
    "default_ppn_tax_template",
    "zero_ppn_tax_template"
  ],
  "fields": [
    {
      "fieldname": "section_ocr",
      "fieldtype": "Section Break",
      "label": "OCR"
    },
    {
      "default": "0",
      "fieldname": "enable_tax_invoice_ocr",
      "fieldtype": "Check",
      "label": "Enable Tax Invoice OCR"
    },
    {
      "default": "Manual Only",
      "fieldname": "ocr_provider",
      "fieldtype": "Select",
      "label": "OCR Provider",
      "options": "Manual Only\nGoogle Vision\nTesseract"
    },
    {
      "description": "Upload service account JSON file for Google Vision (required unless ADC is configured).",
      "fieldname": "google_vision_service_account_file",
      "fieldtype": "Attach",
      "label": "Google Vision Service Account File",
      "depends_on": "eval:doc.ocr_provider==\"Google Vision\""
    },
    {
      "default": "https://vision.googleapis.com/v1/files:annotate",
      "description": "Endpoint for Google Vision File Annotate API (fixed to default unless explicitly overridden).",
      "fieldname": "google_vision_endpoint",
      "fieldtype": "Data",
      "label": "Google Vision Endpoint",
      "depends_on": "eval:doc.ocr_provider==\"Google Vision\""
    },
    {
      "description": "Executable/command path for Tesseract when provider is Tesseract.",
      "fieldname": "tesseract_cmd",
      "fieldtype": "Data",
      "label": "Tesseract Command",
      "depends_on": "eval:doc.ocr_provider==\"Tesseract\""
    },
    {
      "default": "id",
      "fieldname": "ocr_language",
      "fieldtype": "Data",
      "label": "OCR Language"
    },
    {
      "default": 2,
      "fieldname": "ocr_max_pages",
      "fieldtype": "Int",
      "label": "OCR Max Pages"
    },
    {
      "default": 0.85,
      "fieldname": "ocr_min_confidence",
      "fieldtype": "Float",
      "label": "OCR Minimum Confidence"
    },
    {
      "default": 1,
      "fieldname": "ocr_max_retry",
      "fieldtype": "Int",
      "label": "OCR Max Retry"
    },
    {
      "default": 10000,
      "fieldname": "ocr_file_max_mb",
      "fieldtype": "Int",
      "label": "OCR File Max (MB)"
    },
    {
      "default": "1",
      "fieldname": "store_raw_ocr_json",
      "fieldtype": "Check",
      "label": "Store Raw OCR JSON"
    },
    {
      "default": "1",
      "fieldname": "npwp_normalize",
      "fieldtype": "Check",
      "label": "Normalize NPWP"
    },
    {
      "fieldname": "section_verification",
      "fieldtype": "Section Break",
      "label": "Verification"
    },
    {
      "default": "1",
      "fieldname": "require_verification_before_submit_pi",
      "fieldtype": "Check",
      "label": "Require Verification before Submit PI"
    },
    {
      "default": "1",
      "fieldname": "require_verification_before_create_pi_from_expense_request",
      "fieldtype": "Check",
      "label": "Require Verification before Create PI from Expense Request"
    },
    {
      "default": 10,
      "fieldname": "tolerance_idr",
      "fieldtype": "Currency",
      "label": "Tolerance (IDR)",
      "description": "Maximum allowed difference in IDR for DPP and PPN validation"
    },
    {
      "default": 1.0,
      "fieldname": "tolerance_percentage",
      "fieldtype": "Percent",
      "label": "Tolerance (%)",
      "description": "Maximum allowed difference in percentage for DPP and PPN validation (e.g., 1 = 1%)"
    },
    {
      "default": "1",
      "fieldname": "block_duplicate_fp_no",
      "fieldtype": "Check",
      "label": "Block Duplicate Tax Invoice No"
    },
    {
      "fieldname": "section_accounts",
      "fieldtype": "Section Break",
      "label": "Accounts Configuration"
    },
    {
      "fieldname": "ppn_input_account",
      "fieldtype": "Link",
      "label": "PPN Input Account",
      "options": "Account",
      "description": "Account for PPN Input (Purchase/Expense)"
    },
    {
      "fieldname": "ppn_output_account",
      "fieldtype": "Link",
      "label": "PPN Output Account",
      "options": "Account",
      "description": "Account for PPN Output (Sales/Revenue)"
    },
    {
      "fieldname": "column_break_accounts",
      "fieldtype": "Column Break"
    },
    {
      "fieldname": "dpp_variance_account",
      "fieldtype": "Link",
      "label": "DPP Variance Account",
      "options": "Account",
      "description": "Account to journal DPP variance (difference between OCR and document). Can be expense or income depending on variance sign."
    },
    {
      "fieldname": "ppn_variance_account",
      "fieldtype": "Link",
      "label": "PPN Variance Account",
      "options": "Account",
      "description": "Account to journal PPN variance (difference between OCR and document). Usually a liability adjustment account."
    },
    {
      "fieldname": "section_templates",
      "fieldtype": "Section Break",
      "label": "Tax Templates"
    },
    {
      "default": "Standard",
      "fieldname": "default_ppn_type",
      "fieldtype": "Select",
      "label": "Default PPN Type",
      "options": "Standard\nZero Rated\nExempt/Not PPN"
    },
    {
      "default": "1",
      "fieldname": "use_tax_rule_effective_date",
      "fieldtype": "Check",
      "label": "Use Tax Rule Effective Date"
    },
    {
      "fieldname": "default_ppn_tax_template",
      "fieldtype": "Link",
      "label": "Default PPN Tax Template",
      "options": "Purchase Taxes and Charges Template"
    },
    {
      "fieldname": "zero_ppn_tax_template",
      "fieldtype": "Link",
      "label": "Zero PPN Tax Template",
      "options": "Purchase Taxes and Charges Template"
    }
  ],
  "hide_toolbar": 0,
  "index_web_pages_for_search": 1,
  "issingle": 1,
  "links": [],
  "modified": "2024-01-01 00:00:00.000000",
  "modified_by": "Administrator",
  "module": "Imogi Finance",
  "name": "Tax Invoice OCR Settings",
  "owner": "Administrator",
  "permissions": [
    {
      "create": 1,
      "delete": 1,
      "email": 1,
      "export": 1,
      "print": 1,
      "read": 1,
      "report": 1,
      "role": "System Manager",
      "share": 1,
      "write": 1
    }
  ],
  "show_name_in_global_search": 0,
  "sort_field": "modified",
  "sort_order": "DESC"
}
